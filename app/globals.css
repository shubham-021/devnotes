@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Dark theme code highlighting (default) */
:root[data-theme="dark"] {
  @import "highlight.js/styles/github-dark.css";
}

/* Light theme code highlighting */
:root[data-theme="light"] .hljs {
  background: #f6f8fa;
  color: #24292e;
}

:root[data-theme="light"] .hljs-comment,
:root[data-theme="light"] .hljs-quote {
  color: #6a737d;
}

:root[data-theme="light"] .hljs-keyword,
:root[data-theme="light"] .hljs-selector-tag {
  color: #d73a49;
}

:root[data-theme="light"] .hljs-string,
:root[data-theme="light"] .hljs-addition {
  color: #22863a;
}

:root[data-theme="light"] .hljs-number,
:root[data-theme="light"] .hljs-literal {
  color: #005cc5;
}

:root[data-theme="light"] .hljs-title,
:root[data-theme="light"] .hljs-section {
  color: #6f42c1;
}

:root[data-theme="light"] .hljs-built_in,
:root[data-theme="light"] .hljs-type {
  color: #005cc5;
}

@theme {
  --font-sans: var(--font-nunito), ui-sans-serif, system-ui, sans-serif;
  --font-display: var(--font-caveat), cursive;
  --font-mono: var(--font-mono), ui-monospace, monospace;
}

/* Paperback texture for light theme */
:root[data-theme="light"] {
  --paper-bg: #f5f0e6;
  --paper-text: #3d3629;
  --paper-texture: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
}

.bg-paper {
  background-color: var(--paper-bg);
  background-image: var(--paper-texture);
  color: var(--paper-text);
}

* {
  box-sizing: border-box;
}

html,
body {
  overflow-x: hidden;
}

/* Dark theme scrollbar */
:root[data-theme="dark"] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

:root[data-theme="dark"] ::-webkit-scrollbar-track {
  background: transparent;
}

:root[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: #3f3f46;
  border-radius: 4px;
}

:root[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: #52525b;
}

/* Light theme scrollbar */
:root[data-theme="light"] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

:root[data-theme="light"] ::-webkit-scrollbar-track {
  background: transparent;
}

:root[data-theme="light"] ::-webkit-scrollbar-thumb {
  background: #d4d4d8;
  border-radius: 4px;
}

:root[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
  background: #a1a1aa;
}

/* Dark theme prose (default) */
.prose {
  --tw-prose-body: #d4d4d8;
  --tw-prose-headings: #fafafa;
  --tw-prose-links: #60a5fa;
  --tw-prose-bold: #fafafa;
  --tw-prose-code: #f472b6;
  --tw-prose-pre-bg: #18181b;
  --tw-prose-pre-code: #d4d4d8;
  --tw-prose-quotes: #a1a1aa;
  --tw-prose-hr: #3f3f46;
  --tw-prose-th-borders: #3f3f46;
  --tw-prose-td-borders: #27272a;
  word-wrap: break-word;
  overflow-wrap: break-word;
  font-size: 0.95rem;
  line-height: 1.7;
}

/* Light theme prose */
:root[data-theme="light"] .prose {
  --tw-prose-body: #3d3629;
  --tw-prose-headings: #1a1610;
  --tw-prose-links: #b45309;
  --tw-prose-bold: #1a1610;
  --tw-prose-code: #be185d;
  --tw-prose-pre-bg: #e6dec9;
  --tw-prose-pre-code: #3d3629;
  --tw-prose-quotes: #786c5e;
  --tw-prose-hr: #d6cbb8;
  --tw-prose-th-borders: #d6cbb8;
  --tw-prose-td-borders: #e6dec9;
}

@media (min-width: 640px) {
  .prose {
    font-size: 1rem;
  }
}

.prose h1,
.prose h2,
.prose h3 {
  font-family: var(--font-display);
  font-weight: 600;
}

.prose h1 {
  font-size: 1.5rem;
  line-height: 1.3;
  margin-bottom: 0.5rem;
}

.prose h2 {
  font-size: 1.25rem;
  line-height: 1.35;
}

.prose h3 {
  font-size: 1.1rem;
}

@media (min-width: 640px) {
  .prose h1 {
    font-size: 2rem;
  }

  .prose h2 {
    font-size: 1.5rem;
  }

  .prose h3 {
    font-size: 1.25rem;
  }
}

@media (min-width: 1024px) {
  .prose h1 {
    font-size: 2.5rem;
  }

  .prose h2 {
    font-size: 1.75rem;
  }

  .prose h3 {
    font-size: 1.5rem;
  }
}

.prose pre {
  background-color: #18181b;
  border: none;
  border-radius: 0.5rem;
  overflow-x: auto;
  max-width: 100%;
  font-size: 0.7rem;
  padding: 0.75rem;
  margin-left: 0;
  margin-right: 0;
}

:root[data-theme="light"] .prose pre {
  background-color: #e6dec9;
  border: 1px solid #d6cbb8;
}

@media (min-width: 640px) {
  .prose pre {
    font-size: 0.8rem;
    padding: 1rem;
  }
}

@media (min-width: 1024px) {
  .prose pre {
    font-size: 0.875rem;
  }
}

.prose code {
  background-color: #27272a;
  padding: 0.1rem 0.3rem;
  border-radius: 0.25rem;
  font-size: 0.8em;
  word-break: break-word;
}

:root[data-theme="light"] .prose code {
  background-color: #e6dec9;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
  border-radius: 0;
  word-break: normal;
  font-size: inherit;
}

/* Ensure highlight.js styles don't create a visual border effect */
.prose pre code.hljs {
  background-color: transparent !important;
  padding: 0 !important;
}

.prose ul,
.prose ol {
  padding-left: 1.25rem;
}

.prose table {
  font-size: 0.7rem;
  display: block;
  overflow-x: auto;
  white-space: nowrap;
  max-width: 100%;
  margin-left: 0;
  margin-right: 0;
}

@media (min-width: 640px) {
  .prose table {
    font-size: 0.8rem;
  }
}

@media (min-width: 1024px) {
  .prose table {
    display: table;
    font-size: 0.9rem;
    white-space: normal;
  }
}

.prose img {
  max-width: 100%;
  height: auto;
}

.lead {
  font-size: 0.85rem;
  line-height: 1.6;
}

:root[data-theme="light"] .lead {
  color: #786c5e;
}

@media (min-width: 640px) {
  .lead {
    font-size: 0.95rem;
  }
}

@media (min-width: 1024px) {
  .lead {
    font-size: 1.1rem;
    line-height: 1.75;
  }
}

/* Light theme code copy button */
:root[data-theme="light"] .group button {
  background-color: rgba(245, 240, 230, 0.9);
  border-color: #d6cbb8;
  color: #786c5e;
}

:root[data-theme="light"] .group button:hover {
  background-color: #fdfbf7;
  color: #3d3629;
}

/* Copy button visibility */
@media (min-width: 1024px) {
  .group button.copy-button {
    opacity: 0;
  }

  .group:hover button.copy-button {
    opacity: 1;
  }
}